syntax = "proto3";
package key.v1;
option go_package = "github.com/k8sdeploy/protos/gen/go/key/v1";

message KeyResponse {
  string user = 1;
  string hooks = 2;
  string company = 3;
  string billing = 4;
  string permissions = 5;
  optional string status = 99;
}

message ValidResponse {
  bool valid = 1;
  optional string status = 99;
}

message CreateRequest {
  string user_id = 1;
  string service_key = 2;
}

message GetRequest {
  string user_id = 1;
  string service_key = 2;
}

message ValidateRequest {
  string user_id = 1;
  string service_key = 2;
  string check_key = 3;
}

service KeyService {
  rpc Create(CreateRequest) returns (KeyResponse);
  rpc Get(GetRequest) returns (KeyResponse);
  rpc Validate(ValidateRequest) returns (ValidResponse);
}
